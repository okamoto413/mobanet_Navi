<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>プラン一覧</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- カスタムCSS -->
    <style>
        /* カスタム配色：落ち着いた色と高コントラストを使う */
        body {
            background-color: #f5f5f5; /* 柔らかい背景色 */
            color: #333333; /* 高コントラストのテキスト色 */
        }

        h1, th {
            color: #004d40; /* 落ち着いたダークグリーンのタイトルと見出し */
        }

        .card {
            background-color: #ffffff; /* カードの背景は白でシンプルに */
            border: 1px solid #cccccc; /* 優しいグレーの枠線 */
        }

        .table-striped tbody tr:nth-of-type(odd) {
            background-color: #e0e0e0; /* テーブルの交互背景色 */
        }

        a, .btn {
            background-color: #005f99; /* アクセントカラー：落ち着いたブルー */
            color: white;
        }

        a:hover, .btn:hover {
            background-color: #004d80; /* アクセントカラーのホバー時の色 */
        }

        /* キャリアごとの配色 */
        .carrier-docomo {
            background-color: #ffcc80; /* 柔らかいオレンジ */
        }

        .carrier-au {
            background-color: #ffab91; /* 柔らかいコーラル */
        }

        .carrier-softbank {
            background-color: #90caf9; /* ソフトブルー */
        }

        .carrier-その他 {
            background-color: #a5d6a7; /* 落ち着いたグリーン */
        }

        /* プランタイプごとの枠線色 */
        .plan-type-音声通話SIM {
            border: 2px solid #80cbc4; /* 明るいターコイズブルー */
        }

        .plan-type-データ専用SIM {
            border: 2px solid #4db6ac; /* ダークターコイズブルー */
        }

        .plan-type-指定なし {
            border: 2px solid #b0bec5; /* グレー */
        }

        /* テーブル */
        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #ccc;
            padding: 12px;
        }

        th {
            background-color: #e0f7fa; /* 柔らかい水色の背景 */
        }

        /* テーブルの行間を広げることで見やすく */
        td {
            padding: 10px;
        }
    </style>
</head>
<body>
    <div class="container my-4">
        <h1>プラン一覧</h1>
        <p id="notice"><%= notice %></p>
        <div class="table-wrapper">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>キャリア</th>
                        <th>プラン名</th>
                        <th>月額料金</th>
                        <th>データ容量</th>
                        <th>通話料金</th>
                        <th>プランタイプ</th>
                        <th>編集</th>
                        <th>削除</th>
                    </tr>
                </thead>
                <tbody>
                    <% if @plans.present? %>
                        <% @plans.each do |plan| %>
                            <tr class="carrier-<%= plan.carrier %> plan-type-<%= plan.plan_type %>">
                                <td><%= plan.carrier %></td>
                                <td><%= plan.name %></td>
                                <td><%= plan.monthly_fee %></td>
                                <td><%= plan.data_capacity %></td>
                                <td><%= plan.call_fee %></td>
                                <td><%= plan.plan_type %></td>
                                <td><%= link_to '編集', edit_plan_path(plan), class: "btn btn-primary btn-sm" %></td>
                                <td><%= link_to '削除', plan, method: :delete, data: { confirm: '削除しますか?' }, class: "btn btn-danger btn-sm" %></td>
                            </tr>
                        <% end %>
                    <% else %>
                        <tr>
                            <td colspan="8">推奨プランがありません。</td>
                        </tr>
                    <% end %>  
                </tbody>
            </table>
        </div>

        <!-- 新規プラン作成へのリンク -->
        <br>
        <%= link_to '新規プラン作成', new_plan_path, class: "btn btn-success" %>
    </div>

    <!-- Bootstrap JSと依存ライブラリ -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>


  <div class="container">
  <div class="content">
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>キャリア</th>
            <th>プラン名</th>
            <th>月額料金</th>
            <th>データ容量</th>
            <th>通話料金</th>
            <th>プランタイプ</th>
            <th>編集</th>
            <th colspan="2"></th>
          </tr>
        </thead>

        <tbody>
          <% if @plans.present? %>
            <% @plans.each do |plan| %>
            <tr>
              <td><%= plan.carrier %></td>
              <td><%= plan.name %></td>
              <td><%= plan.monthly_fee %></td>
              <td><%= plan.data_capacity %></td>
              <td><%= plan.call_fee %></td>
              <td><%= plan.plan_type %></td>
              <td><%= link_to '編集', edit_plan_path(plan) %></td>
              <td><%= link_to 'Destroy', plan, method: :delete, data: { confirm: '削除しますか?' } %></td>
              </tr>
          <% end %>
        <% else %>
          <tr>
            <td colspan="8">推奨プランがありません。</td>
          </tr>
        <% end %>  
        </tbody>
      </table>
    </div>
  </div>
</div>




<!-- 新規プラン作成へのリンク -->
<br>
<%= link_to '新規プラン作成', new_plan_path %>

<!-- スタイル -->
<style>
  .container {
    display: flex;
    flex-direction: column; /* コンテナ内の要素を縦に並べる */
    width: 100%; /* コンテナを画面幅いっぱいに広げる */
  }

  # .sidebar {
  #   width: 25%;
  #   padding: 15px;
  #   background-color: #f5f5f5;
  #   position: sticky;
  #   top: 0;
  #   height: 100vh; /* 画面の高さに合わせる */
  # }

  .content {
    width: 75%;
    padding-left: 20px;
  }

  .table-wrapper {
    max-height: 400px; /* テーブル部分に高さを指定してスクロールできるようにする */
    overflow-y: auto; /* 縦方向にスクロールバーを表示 */
    margin-top: 20px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th, td {
    border: 1px solid #ddd;
    padding: 8px;
  }

  th {
    background-color: #f2f2f2;
    text-align: left;
  }

  td {
    text-align: left;
  }
</style>
